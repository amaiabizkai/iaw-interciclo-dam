{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../core/repuesto.service\";\nimport * as i4 from \"@angular/common\";\nfunction RepuestoEditComponent_div_67_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r0.errorMessage, \" \");\n  }\n}\nconst _c0 = function () {\n  return [\"\"];\n};\nexport class RepuestoEditComponent {\n  constructor(fb, activatedroute, router, repuestoService) {\n    this.fb = fb;\n    this.activatedroute = activatedroute;\n    this.router = router;\n    this.repuestoService = repuestoService;\n    this.pageTitle = 'Repuesto Edit';\n    this.errorMessage = '';\n    this.prodId = 0;\n    this.repuesto = {\n      id: 0,\n      name: '',\n      shortDescription: '',\n      description: '',\n      price: 0,\n      category: '',\n      image: ''\n    };\n  }\n  ngOnInit() {\n    this.repuestoForm = this.fb.group({\n      name: ['', [Validators.required, Validators.minLength(3), Validators.maxLength(50)]],\n      shortDescription: '',\n      description: '',\n      price: '',\n      category: '',\n      image: ''\n    });\n    // Read the repuesto Id from the route parameter\n    this.prodId = parseInt(this.activatedroute.snapshot.params['id']);\n    this.getRepuesto(this.prodId);\n  }\n  getRepuesto(id) {\n    this.repuestoService.getRepuestoById(id).subscribe(repuesto => this.displayRepuesto(repuesto), error => this.errorMessage = error);\n  }\n  displayRepuesto(repuesto) {\n    if (this.repuestoForm) {\n      this.repuestoForm.reset();\n    }\n    this.repuesto = repuesto;\n    this.pageTitle = `Edit Repuesto: ${this.repuesto.name}`;\n    // Update the data on the form\n    this.repuestoForm.patchValue({\n      name: this.repuesto.name,\n      description: this.repuesto.description,\n      shortDescription: this.repuesto.shortDescription,\n      price: this.repuesto.price,\n      category: this.repuesto.category,\n      image: this.repuesto.image\n    });\n  }\n  deleteRepuesto() {\n    if (this.repuesto.id === 0) {\n      // Don't delete, it was never saved.\n      this.onSaveComplete();\n    } else {\n      if (confirm(`Estas seguro: ${this.repuesto.name}?`)) {\n        this.repuestoService.deleteRepuesto(this.repuesto.id).subscribe(() => this.onSaveComplete(), error => this.errorMessage = error);\n      }\n    }\n  }\n  saveRepuesto() {\n    if (this.repuestoForm.valid) {\n      if (this.repuestoForm.dirty) {\n        this.repuesto = this.repuestoForm.value;\n        this.repuesto.id = this.prodId;\n        this.repuestoService.updateRepuesto(this.repuesto).subscribe(() => this.onSaveComplete(), error => this.errorMessage = error);\n      } else {\n        this.onSaveComplete();\n      }\n    } else {\n      this.errorMessage = 'Please correct the validation errors.';\n    }\n  }\n  onSaveComplete() {\n    // Reset the form to clear the flags\n    this.repuestoForm.reset();\n    this.router.navigate(['']);\n  }\n}\nRepuestoEditComponent.ɵfac = function RepuestoEditComponent_Factory(t) {\n  return new (t || RepuestoEditComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.RepuestoService));\n};\nRepuestoEditComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RepuestoEditComponent,\n  selectors: [[\"ng-component\"]],\n  decls: 68,\n  vars: 5,\n  consts: [[1, \"card\"], [1, \"card-header\"], [1, \"card-body\"], [\"novalidate\", \"\", 3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\", \"row\", \"mb-2\"], [\"for\", \"repuestoNameId\", 1, \"col-md-2\", \"col-form-label\"], [1, \"col-md-8\"], [\"id\", \"repuestoNameId\", \"type\", \"text\", \"placeholder\", \"Nombre\", \"formControlName\", \"name\", \"name\", \"name\", 1, \"form-control\"], [\"for\", \"shortdescriptionId\", 1, \"col-md-2\", \"col-form-label\"], [\"id\", \"shortdescriptionId\", \"placeholder\", \"Descripci\\u00F3n corta\", \"rows\", \"3\", \"formControlName\", \"shortDescription\", \"name\", \"shortDescription\", 1, \"form-control\"], [\"for\", \"descriptionId\", 1, \"col-md-2\", \"col-form-label\"], [\"id\", \"descriptionId\", \"placeholder\", \"Descripci\\u00F3n\", \"rows\", \"3\", \"formControlName\", \"description\", \"name\", \"description\", 1, \"form-control\"], [\"for\", \"priceId\", 1, \"col-md-2\", \"col-form-label\"], [\"id\", \"priceId\", \"placeholder\", \"Precio\", \"formControlName\", \"price\", \"name\", \"price\", 1, \"form-control\"], [\"for\", \"categoriesId\", 1, \"col-md-2\", \"col-form-label\"], [\"id\", \"categoriesId\", \"placeholder\", \"Categoria\", \"formControlName\", \"category\", \"name\", \"category\", 1, \"form-control\"], [\"for\", \"imageId\", 1, \"col-md-2\", \"col-form-label\"], [\"id\", \"imageId\", \"placeholder\", \"Enlace Imagen\", \"formControlName\", \"image\", \"name\", \"image\", 1, \"form-control\"], [1, \"offset-md-2\", \"col-md-5\", \"col-\"], [\"type\", \"submit\", \"title\", \"Guardar este repuesto\", 1, \"btn\", \"btn-success\", \"mr-3\", 2, \"margin\", \"10px\"], [\"type\", \"button\", \"title\", \"Dejar de editar\", 1, \"btn\", \"btn\", \"btn-warning\", \"mr-3\", 2, \"margin\", \"10px\", 3, \"routerLink\"], [\"type\", \"button\", \"title\", \"Borrar este repuesto\", 1, \"btn\", \"btn-danger\", 2, \"margin\", \"10px\", 3, \"click\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [1, \"alert\", \"alert-danger\"]],\n  template: function RepuestoEditComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n      i0.ɵɵtext(2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 2)(4, \"form\", 3);\n      i0.ɵɵlistener(\"ngSubmit\", function RepuestoEditComponent_Template_form_ngSubmit_4_listener() {\n        return ctx.saveRepuesto();\n      });\n      i0.ɵɵelementStart(5, \"div\", 4)(6, \"label\", 5);\n      i0.ɵɵtext(7, \"Nombre\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"div\", 6);\n      i0.ɵɵelement(9, \"input\", 7);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(10, \"div\", 4)(11, \"label\", 8);\n      i0.ɵɵtext(12, \"Descripci\\u00F3n corta\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\", 6);\n      i0.ɵɵelement(14, \"textarea\", 9);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(15, \"div\", 4)(16, \"label\", 10);\n      i0.ɵɵtext(17, \"Descripci\\u00F3n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"div\", 6);\n      i0.ɵɵelement(19, \"textarea\", 11);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(20, \"div\", 4)(21, \"label\", 12);\n      i0.ɵɵtext(22, \"Precio\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"div\", 6);\n      i0.ɵɵelement(24, \"input\", 13);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(25, \"div\", 4)(26, \"label\", 14);\n      i0.ɵɵtext(27, \"Categoria\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"div\", 6)(29, \"select\", 15)(30, \"option\");\n      i0.ɵɵtext(31, \"Frenos\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"option\");\n      i0.ɵɵtext(33, \"Motor\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(34, \"option\");\n      i0.ɵɵtext(35, \"Embrague\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(36, \"option\");\n      i0.ɵɵtext(37, \"Chasis\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(38, \"option\");\n      i0.ɵɵtext(39, \"L\\u00EDquidos\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(40, \"option\");\n      i0.ɵɵtext(41, \"Neum\\u00E1ticos\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(42, \"option\");\n      i0.ɵɵtext(43, \"Llantas\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(44, \"option\");\n      i0.ɵɵtext(45, \"Aerodin\\u00E1mica\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(46, \"option\");\n      i0.ɵɵtext(47, \"Interior\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(48, \"option\");\n      i0.ɵɵtext(49, \"Chapa\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(50, \"option\");\n      i0.ɵɵtext(51, \"Electronica\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(52, \"option\");\n      i0.ɵɵtext(53, \"Luces\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(54, \"div\", 4)(55, \"label\", 16);\n      i0.ɵɵtext(56, \"Imagen\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(57, \"div\", 6);\n      i0.ɵɵelement(58, \"input\", 17);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(59, \"div\", 4)(60, \"div\", 18)(61, \"button\", 19);\n      i0.ɵɵtext(62, \" Guardar \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(63, \"button\", 20);\n      i0.ɵɵtext(64, \" Cancelar \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(65, \"button\", 21);\n      i0.ɵɵlistener(\"click\", function RepuestoEditComponent_Template_button_click_65_listener() {\n        return ctx.deleteRepuesto();\n      });\n      i0.ɵɵtext(66, \" Borrar \");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵtemplate(67, RepuestoEditComponent_div_67_Template, 2, 1, \"div\", 22);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\" \", ctx.pageTitle, \" \");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"formGroup\", ctx.repuestoForm);\n      i0.ɵɵadvance(59);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(4, _c0));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n    }\n  },\n  dependencies: [i4.NgIf, i2.RouterLink, i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n  encapsulation: 2\n});","map":{"version":3,"mappings":"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","names":["Validators","i0","RepuestoEditComponent","constructor","fb","activatedroute","router","repuestoService","id","name","shortDescription","description","price","category","image","ngOnInit","repuestoForm","group","required","minLength","maxLength","prodId","parseInt","snapshot","params","getRepuesto","getRepuestoById","subscribe","repuesto","displayRepuesto","error","errorMessage","reset","pageTitle","patchValue","deleteRepuesto","onSaveComplete","confirm","saveRepuesto","valid","dirty","value","updateRepuesto","navigate","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\bcuta\\Desktop\\MAFAH\\client\\src\\app\\repuestos\\repuesto-edit\\repuesto-edit.component.ts","C:\\Users\\bcuta\\Desktop\\MAFAH\\client\\src\\app\\repuestos\\repuesto-edit\\repuesto-edit.component.html"],"sourcesContent":["import {\r\n  Component,\r\n  OnInit,\r\n  AfterViewInit,\r\n  OnDestroy,\r\n  ViewChildren,\r\n  ElementRef,\r\n} from '@angular/core';\r\nimport {\r\n  FormBuilder,\r\n  FormGroup,\r\n  FormControl,\r\n  FormArray,\r\n  Validators,\r\n  FormControlName,\r\n} from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\nimport { Repuesto } from '../../shared/repuesto';\r\nimport { RepuestoService } from '../../core/repuesto.service';\r\n\r\n@Component({\r\n  templateUrl: './repuesto-edit.component.html',\r\n})\r\nexport class RepuestoEditComponent implements OnInit {\r\n  pageTitle = 'Repuesto Edit';\r\n  errorMessage: string = '';\r\n  repuestoForm: any;\r\n\r\n  prodId: number = 0;\r\n  repuesto: Repuesto = {\r\n    id: 0,\r\n    name: '',\r\n    shortDescription: '',\r\n    description: '',\r\n    price: 0,\r\n    category: '',\r\n    image: '',\r\n  };\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private activatedroute: ActivatedRoute,\r\n    private router: Router,\r\n    private repuestoService: RepuestoService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.repuestoForm = this.fb.group({\r\n      name: [\r\n        '',\r\n        [\r\n          Validators.required,\r\n          Validators.minLength(3),\r\n          Validators.maxLength(50),\r\n        ],\r\n      ],\r\n      shortDescription: '',\r\n      description: '',\r\n      price: '',\r\n      category: '',\r\n      image: '',\r\n    });\r\n\r\n    // Read the repuesto Id from the route parameter\r\n    this.prodId = parseInt(this.activatedroute.snapshot.params['id']);\r\n    this.getRepuesto(this.prodId);\r\n  }\r\n\r\n  getRepuesto(id: number): void {\r\n    this.repuestoService.getRepuestoById(id).subscribe(\r\n      (repuesto: Repuesto) => this.displayRepuesto(repuesto),\r\n      (error: any) => (this.errorMessage = <any>error)\r\n    );\r\n  }\r\n\r\n  displayRepuesto(repuesto: Repuesto): void {\r\n    if (this.repuestoForm) {\r\n      this.repuestoForm.reset();\r\n    }\r\n    this.repuesto = repuesto;\r\n    this.pageTitle = `Edit Repuesto: ${this.repuesto.name}`;\r\n\r\n    // Update the data on the form\r\n    this.repuestoForm.patchValue({\r\n      name: this.repuesto.name,\r\n      description: this.repuesto.description,\r\n      shortDescription: this.repuesto.shortDescription,\r\n      price: this.repuesto.price,\r\n      category: this.repuesto.category,\r\n      image: this.repuesto.image,\r\n    });\r\n  }\r\n\r\n  deleteRepuesto(): void {\r\n    if (this.repuesto.id === 0) {\r\n      // Don't delete, it was never saved.\r\n      this.onSaveComplete();\r\n    } else {\r\n      if (confirm(`Estas seguro: ${this.repuesto.name}?`)) {\r\n        this.repuestoService.deleteRepuesto(this.repuesto.id).subscribe(\r\n          () => this.onSaveComplete(),\r\n          (error: any) => (this.errorMessage = <any>error)\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  saveRepuesto(): void {\r\n    if (this.repuestoForm.valid) {\r\n      if (this.repuestoForm.dirty) {\r\n        this.repuesto = this.repuestoForm.value;\r\n        this.repuesto.id = this.prodId;\r\n\r\n        this.repuestoService.updateRepuesto(this.repuesto).subscribe(\r\n          () => this.onSaveComplete(),\r\n          (error: any) => (this.errorMessage = <any>error)\r\n        );\r\n      } else {\r\n        this.onSaveComplete();\r\n      }\r\n    } else {\r\n      this.errorMessage = 'Please correct the validation errors.';\r\n    }\r\n  }\r\n\r\n  onSaveComplete(): void {\r\n    // Reset the form to clear the flags\r\n    this.repuestoForm.reset();\r\n    this.router.navigate(['']);\r\n  }\r\n}\r\n","<div class=\"card\">\r\n    <div class=\"card-header\">\r\n      {{pageTitle}}\r\n    </div>\r\n  \r\n    <div class=\"card-body\">\r\n      <form novalidate\r\n            (ngSubmit)=\"saveRepuesto()\"\r\n            [formGroup]=\"repuestoForm\">\r\n  \r\n        <div class=\"form-group row mb-2\">\r\n          <label class=\"col-md-2 col-form-label\"\r\n                 for=\"repuestoNameId\">Nombre</label>\r\n          <div class=\"col-md-8\">\r\n            <input class=\"form-control\"\r\n                   id=\"repuestoNameId\"\r\n                   type=\"text\"\r\n                   placeholder=\"Nombre\"\r\n                   formControlName=\"name\"\r\n                   name=\"name\"/>\r\n          </div>\r\n        </div>\r\n        <div class=\"form-group row mb-2\">\r\n          <label class=\"col-md-2 col-form-label\"\r\n                 for=\"shortdescriptionId\">Descripción corta</label>\r\n  \r\n          <div class=\"col-md-8\">\r\n            <textarea class=\"form-control\"\r\n                      id=\"shortdescriptionId\"\r\n                      placeholder=\"Descripción corta\"\r\n                      rows=3\r\n                      formControlName=\"shortDescription\"\r\n                      name=\"shortDescription\"></textarea>\r\n          </div>\r\n        </div>\r\n  \r\n        <div class=\"form-group row mb-2\">\r\n          <label class=\"col-md-2 col-form-label\"\r\n                 for=\"descriptionId\">Descripción</label>\r\n  \r\n          <div class=\"col-md-8\">\r\n            <textarea class=\"form-control\"\r\n                      id=\"descriptionId\"\r\n                      placeholder=\"Descripción\"\r\n                      rows=3\r\n                      formControlName=\"description\"\r\n                      name=\"description\"></textarea>\r\n          </div>\r\n        </div>\r\n  \r\n        <div class=\"form-group row mb-2\">\r\n          <label class=\"col-md-2 col-form-label\"\r\n                 for=\"priceId\">Precio</label>\r\n  \r\n          <div class=\"col-md-8\">\r\n            <input class=\"form-control\"\r\n                      id=\"priceId\"\r\n                      placeholder=\"Precio\"\r\n                      formControlName=\"price\"\r\n                      name=\"price\" />\r\n          </div>\r\n        </div>\r\n\r\n  \r\n        <div class=\"form-group row mb-2\">\r\n          <label class=\"col-md-2 col-form-label\"\r\n                 for=\"categoriesId\">Categoria</label>\r\n  \r\n          <div class=\"col-md-8\">\r\n            <select class=\"form-control\"\r\n                    id=\"categoriesId\"\r\n                    placeholder=\"Categoria\"\r\n                    formControlName=\"category\"\r\n                    name=\"category\">\r\n              <option>Frenos</option>\r\n              <option>Motor</option>\r\n              <option>Embrague</option>\r\n              <option>Chasis</option>\r\n              <option>Líquidos</option>\r\n              <option>Neumáticos</option>\r\n              <option>Llantas</option>\r\n              <option>Aerodinámica</option>\r\n              <option>Interior</option>\r\n              <option>Chapa</option>\r\n              <option>Electronica</option>\r\n              <option>Luces</option>\r\n            </select>\r\n</div>\r\n        </div>\r\n  \r\n      <div class=\"form-group row mb-2\">\r\n          <label class=\"col-md-2 col-form-label\"\r\n                 for=\"imageId\">Imagen</label>\r\n  \r\n          <div class=\"col-md-8\">\r\n            <input class=\"form-control\"\r\n                      id=\"imageId\"\r\n                      placeholder=\"Enlace Imagen\"\r\n                      formControlName=\"image\"\r\n                      name=\"image\" />\r\n          </div>\r\n        </div>\r\n  \r\n        <div class=\"form-group row mb-2\">\r\n          <div class=\"offset-md-2 col-md-5 col-\">\r\n            <button style=\"margin: 10px\" class=\"btn btn-success mr-3\"\r\n                    type=\"submit\"\r\n                    title=\"Guardar este repuesto\">\r\n              Guardar\r\n            </button>\r\n            <button style=\"margin: 10px\" class=\"btn btn btn-warning mr-3\"\r\n                    type=\"button\"\r\n                    title=\"Dejar de editar\"\r\n                    [routerLink]=\"['']\">\r\n              Cancelar\r\n            </button>\r\n            <button style=\"margin: 10px\" class=\"btn btn-danger\"\r\n                    type=\"button\"\r\n                    title=\"Borrar este repuesto\"\r\n                    (click)=\"deleteRepuesto()\">\r\n              Borrar\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  \r\n    <div class=\"alert alert-danger\"\r\n         *ngIf=\"errorMessage\">{{errorMessage}}\r\n    </div>\r\n  </div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}