{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../core/repuesto.service\";\nimport * as i4 from \"@angular/common\";\nfunction RepuestoNewComponent_div_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r0.errorMessage, \" \");\n  }\n}\nconst _c0 = function () {\n  return [\"\"];\n};\nexport class RepuestoNewComponent {\n  constructor(fb, activatedroute, router, repuestoService) {\n    this.fb = fb;\n    this.activatedroute = activatedroute;\n    this.router = router;\n    this.repuestoService = repuestoService;\n    this.pageTitle = 'Repuesto New';\n    this.errorMessage = '';\n    this.prodId = 0;\n    this.repuesto = {\n      id: 0,\n      name: '',\n      price: 0,\n      shortDescription: '',\n      description: '',\n      category: '',\n      image: ''\n    };\n  }\n  ngOnInit() {\n    this.repuestoForm = this.fb.group({\n      title: ['', [Validators.required, Validators.minLength(3), Validators.maxLength(50)]],\n      category: '',\n      price: '',\n      description: '',\n      shortDescription: '',\n      image: ''\n    });\n    // Read the repuesto Id from the route parameter\n    this.prodId = parseInt(this.activatedroute.snapshot.params['repuestoId']);\n  }\n  saveRepuesto() {\n    if (this.repuestoForm.valid) {\n      if (this.repuestoForm.dirty) {\n        this.repuesto = this.repuestoForm.value;\n        this.repuesto.id = this.prodId;\n        this.repuestoService.createRepuesto(this.repuesto).subscribe(() => this.onSaveComplete(), error => this.errorMessage = error);\n      } else {\n        this.onSaveComplete();\n      }\n    } else {\n      this.errorMessage = 'Please correct the validation errors.';\n    }\n  }\n  onSaveComplete() {\n    // Reset the form to clear the flags\n    this.repuestoForm.reset();\n    this.router.navigate(['']);\n  }\n}\nRepuestoNewComponent.ɵfac = function RepuestoNewComponent_Factory(t) {\n  return new (t || RepuestoNewComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.RepuestoService));\n};\nRepuestoNewComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RepuestoNewComponent,\n  selectors: [[\"app-repuesto-new\"]],\n  decls: 42,\n  vars: 5,\n  consts: [[1, \"card\"], [1, \"card-header\"], [1, \"card-body\"], [\"novalidate\", \"\", 3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\", \"row\", \"mb-2\"], [\"for\", \"repuestoNameId\", 1, \"col-md-2\", \"col-form-label\"], [1, \"col-md-8\"], [\"id\", \"repuestoNameId\", \"type\", \"text\", \"placeholder\", \"Name (required)\", \"formControlName\", \"name\", \"name\", \"name\", 1, \"form-control\"], [\"for\", \"shortdescriptionId\", 1, \"col-md-2\", \"col-form-label\"], [\"id\", \"shortdescriptionId\", \"placeholder\", \"Short Description\", \"rows\", \"3\", \"formControlName\", \"shortDescription\", \"name\", \"shortDescription\", 1, \"form-control\"], [\"for\", \"descriptionId\", 1, \"col-md-2\", \"col-form-label\"], [\"id\", \"descriptionId\", \"placeholder\", \"Description\", \"rows\", \"3\", \"formControlName\", \"description\", \"name\", \"description\", 1, \"form-control\"], [\"for\", \"priceId\", 1, \"col-md-2\", \"col-form-label\"], [\"id\", \"priceId\", \"placeholder\", \"Price\", \"formControlName\", \"price\", \"name\", \"price\", 1, \"form-control\"], [\"for\", \"categoriesId\", 1, \"col-md-2\", \"col-form-label\"], [\"id\", \"categoriesId\", \"placeholder\", \"Categories\", \"formControlName\", \"category\", \"name\", \"category\", 1, \"form-control\"], [\"for\", \"imageId\", 1, \"col-md-2\", \"col-form-label\"], [\"id\", \"imageId\", \"placeholder\", \"Images\", \"formControlName\", \"image\", \"name\", \"images\", 1, \"form-control\"], [1, \"offset-md-2\", \"col-md-4\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"mr-3\"], [\"type\", \"button\", \"title\", \"Cancel your edits\", 1, \"btn\", \"btn-outline-secondary\", \"mr-3\", 3, \"routerLink\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [1, \"alert\", \"alert-danger\"]],\n  template: function RepuestoNewComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n      i0.ɵɵtext(2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 2)(4, \"form\", 3);\n      i0.ɵɵlistener(\"ngSubmit\", function RepuestoNewComponent_Template_form_ngSubmit_4_listener() {\n        return ctx.saveRepuesto();\n      });\n      i0.ɵɵelementStart(5, \"div\", 4)(6, \"label\", 5);\n      i0.ɵɵtext(7, \"Nombre repuesto\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"div\", 6);\n      i0.ɵɵelement(9, \"input\", 7);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(10, \"div\", 4)(11, \"label\", 8);\n      i0.ɵɵtext(12, \"Descripcion corta\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\", 6);\n      i0.ɵɵelement(14, \"textarea\", 9);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(15, \"div\", 4)(16, \"label\", 10);\n      i0.ɵɵtext(17, \"Descripcion\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"div\", 6);\n      i0.ɵɵelement(19, \"textarea\", 11);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(20, \"div\", 4)(21, \"label\", 12);\n      i0.ɵɵtext(22, \"Precio\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"div\", 6);\n      i0.ɵɵelement(24, \"input\", 13);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(25, \"div\", 4)(26, \"label\", 14);\n      i0.ɵɵtext(27, \"Categorias\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"div\", 6);\n      i0.ɵɵelement(29, \"input\", 15);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(30, \"div\", 4)(31, \"label\", 16);\n      i0.ɵɵtext(32, \"Imagen\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(33, \"div\", 6);\n      i0.ɵɵelement(34, \"input\", 17);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(35, \"div\", 4)(36, \"div\", 18)(37, \"button\", 19);\n      i0.ɵɵtext(38, \" Guardar \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(39, \"button\", 20);\n      i0.ɵɵtext(40, \" Cancelar \");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵtemplate(41, RepuestoNewComponent_div_41_Template, 2, 1, \"div\", 21);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\" \", ctx.pageTitle, \" \");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"formGroup\", ctx.repuestoForm);\n      i0.ɵɵadvance(35);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(4, _c0));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n    }\n  },\n  dependencies: [i4.NgIf, i2.RouterLink, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["Validators","i0","RepuestoNewComponent","constructor","fb","activatedroute","router","repuestoService","id","name","price","shortDescription","description","category","image","ngOnInit","repuestoForm","group","title","required","minLength","maxLength","prodId","parseInt","snapshot","params","saveRepuesto","valid","dirty","repuesto","value","createRepuesto","subscribe","onSaveComplete","error","errorMessage","reset","navigate","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\Gabriel_C\\Desktop\\MAFAH\\client\\src\\app\\repuestos\\repuesto-new\\repuesto-new.component.ts","C:\\Users\\Gabriel_C\\Desktop\\MAFAH\\client\\src\\app\\repuestos\\repuesto-new\\repuesto-new.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { Repuesto } from '../../shared/repuesto';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { RepuestoService } from '../../core/repuesto.service';\r\n\r\n@Component({\r\n  selector: 'app-repuesto-new',\r\n  templateUrl: './repuesto-new.component.html',\r\n  styleUrls: ['./repuesto-new.component.css'],\r\n})\r\nexport class RepuestoNewComponent implements OnInit {\r\n  pageTitle = 'Repuesto New';\r\n  errorMessage: string = '';\r\n  repuestoForm: any;\r\n\r\n  prodId: number = 0;\r\n  repuesto: Repuesto = {\r\n    id: 0,\r\n    name: '',\r\n    price: 0,\r\n    shortDescription: '',\r\n    description: '',\r\n    category: '',\r\n    image: '',\r\n  };\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private activatedroute: ActivatedRoute,\r\n    private router: Router,\r\n    private repuestoService: RepuestoService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.repuestoForm = this.fb.group({\r\n      title: [\r\n        '',\r\n        [\r\n          Validators.required,\r\n          Validators.minLength(3),\r\n          Validators.maxLength(50),\r\n        ],\r\n      ],\r\n      category: '',\r\n      price: '',\r\n      description: '',\r\n      shortDescription: '',\r\n      image: '',\r\n    });\r\n\r\n    // Read the repuesto Id from the route parameter\r\n    this.prodId = parseInt(this.activatedroute.snapshot.params['repuestoId']);\r\n  }\r\n\r\n  saveRepuesto(): void {\r\n    if (this.repuestoForm.valid) {\r\n      if (this.repuestoForm.dirty) {\r\n        this.repuesto = this.repuestoForm.value;\r\n        this.repuesto.id = this.prodId;\r\n\r\n        this.repuestoService.createRepuesto(this.repuesto).subscribe(\r\n          () => this.onSaveComplete(),\r\n          (error: any) => (this.errorMessage = <any>error)\r\n        );\r\n      } else {\r\n        this.onSaveComplete();\r\n      }\r\n    } else {\r\n      this.errorMessage = 'Please correct the validation errors.';\r\n    }\r\n  }\r\n\r\n  onSaveComplete(): void {\r\n    // Reset the form to clear the flags\r\n    this.repuestoForm.reset();\r\n    this.router.navigate(['']);\r\n  }\r\n}\r\n","<div class=\"card\">\r\n  <div class=\"card-header\">\r\n    {{pageTitle}}\r\n  </div>\r\n\r\n  <div class=\"card-body\">\r\n    <form novalidate\r\n          (ngSubmit)=\"saveRepuesto()\"\r\n          [formGroup]=\"repuestoForm\">\r\n\r\n      <div class=\"form-group row mb-2\">\r\n        <label class=\"col-md-2 col-form-label\"\r\n               for=\"repuestoNameId\">Nombre repuesto</label>\r\n        <div class=\"col-md-8\">\r\n          <input class=\"form-control\"\r\n                 id=\"repuestoNameId\"\r\n                 type=\"text\"\r\n                 placeholder=\"Name (required)\"\r\n                 formControlName=\"name\"\r\n                 name=\"name\" />\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"form-group row mb-2\">\r\n        <label class=\"col-md-2 col-form-label\"\r\n               for=\"shortdescriptionId\">Descripcion corta</label>\r\n\r\n        <div class=\"col-md-8\">\r\n          <textarea class=\"form-control\"\r\n                    id=\"shortdescriptionId\"\r\n                    placeholder=\"Short Description\"\r\n                    rows=3\r\n                    formControlName=\"shortDescription\"\r\n                    name=\"shortDescription\"></textarea>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"form-group row mb-2\">\r\n        <label class=\"col-md-2 col-form-label\"\r\n               for=\"descriptionId\">Descripcion</label>\r\n\r\n        <div class=\"col-md-8\">\r\n          <textarea class=\"form-control\"\r\n                    id=\"descriptionId\"\r\n                    placeholder=\"Description\"\r\n                    rows=3\r\n                    formControlName=\"description\"\r\n                    name=\"description\"></textarea>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"form-group row mb-2\">\r\n        <label class=\"col-md-2 col-form-label\"\r\n               for=\"priceId\">Precio</label>\r\n\r\n        <div class=\"col-md-8\">\r\n          <input class=\"form-control\"\r\n                    id=\"priceId\"\r\n                    placeholder=\"Price\"\r\n                    formControlName=\"price\"\r\n                    name=\"price\" />\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"form-group row mb-2\">\r\n        <label class=\"col-md-2 col-form-label\"\r\n               for=\"categoriesId\">Categorias</label>\r\n\r\n        <div class=\"col-md-8\">\r\n          <input class=\"form-control\"\r\n                    id=\"categoriesId\"\r\n                    placeholder=\"Categories\"\r\n                    formControlName=\"category\"\r\n                    name=\"category\" />\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"form-group row mb-2\">\r\n          <label class=\"col-md-2 col-form-label\"\r\n                 for=\"imageId\">Imagen</label>\r\n  \r\n          <div class=\"col-md-8\">\r\n            <input class=\"form-control\"\r\n                      id=\"imageId\"\r\n                      placeholder=\"Images\"\r\n                      formControlName=\"image\"\r\n                      name=\"images\" />\r\n          </div>\r\n        </div>\r\n\r\n\r\n      <div class=\"form-group row mb-2\">\r\n        <div class=\"offset-md-2 col-md-4\">\r\n          <button class=\"btn btn-primary mr-3\"\r\n                  type=\"submit\">\r\n            Guardar\r\n          </button>\r\n          <button class=\"btn btn-outline-secondary mr-3\"\r\n                  type=\"button\"\r\n                  title=\"Cancel your edits\"\r\n                  [routerLink]=\"['']\">\r\n            Cancelar\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </div>\r\n\r\n  <div class=\"alert alert-danger\"\r\n       *ngIf=\"errorMessage\">{{errorMessage}}\r\n  </div>\r\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}